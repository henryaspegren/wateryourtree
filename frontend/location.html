<!DOCTYPE html>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
  <script src="scripts/libs/qrcode/lib/qrcode.min.js"></script>
  <script src="scripts/libs/angular-qr/angular-qr.min.js"></script>
  <script src="scripts/app.js"></script>
  <script src='//maps.googleapis.com/maps/api/js?sensor=false'></script>
  <script src='scripts/libs/lodash/dist/lodash.underscore.min.js'></script>
  <script src='scripts/libs/angular-google-maps/dist/angular-google-maps.min.js'></script>
  <style>
  .centered {
  left        : 0;
  margin-left : auto;
  margin-right: auto;
  position    : absolute;
  right       : 0;
  text-align  : center;
  top         : 50%;
}
.angular-google-map-container { height: 400px; width: 400px; }
</style>
</head>

<body ng-app="fertilizer">
  <div ng-controller="dataController">
      {{test}}
    <div ng-if="!selected_location" ng-init="get_locations()">
      <form ng-submit="create_location(new_location)" method="post">
        <label>Location Name: <input type="text" ng-model="new_location"/></label>
        <button type="submit">Create</button>
      </form>

      <ul>
      <google-map center="map.center" zoom="map.zoom" draggable="true">
      <li ng-repeat="location in locations">
      <marker
      coords="{latitude: 37.42565,longitude: -122.13535}"
      options="{title: 'test', draggable: true}"
      >
        <marker-label
            content="'{{location.name}}'"
            anchor="30 0"
            >
        </marker-label>
      </marker>
      </li>
      </google-map>
        <li ng-repeat="location in locations">
          <a href ng-click="select_location(location)">
            {{location.name}} -  Hits: {{location.hit_count}}
          </a>
        </li>
      </ul>
    </div>

    <div ng-if="selected_location">
      {{location}}
      <br />
      <qr text="qr_url"></qr>
    </div>
  </div>
</body>
</html>
